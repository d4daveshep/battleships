<h3>Available Players:</h3>
{% if available_players %}
    {% for player in available_players %}
    <div data-testid="player-{{ player.name }}">
        {{ player.name }}
        <span data-testid="player-{{ player.name }}-status">({{ player.status }})</span>
        <form method="post" action="/select-opponent" style="display: inline;">
            <input type="hidden" name="player_name" value="{{ player_name }}">
            <input type="hidden" name="opponent_name" value="{{ player.name }}">
            <button type="submit" data-testid="select-opponent-{{ player.name }}"
                    {% if player_status == "Requesting Game" or player.status != "Available" %}disabled{% endif %}>
                Select Opponent
            </button>
        </form>
    </div>
    {% endfor %}
{% else %}
    <div data-testid="no-players-message">
        No other players available
    </div>
    <div data-testid="waiting-message">
        Waiting for other players to join...
    </div>
{% endif %}