{% extends "base.html" %}

{% block title %}Multiplayer Lobby{% endblock %}

{% block content %}
<div data-testid="lobby-container">
    <h1>Multiplayer Lobby</h1>
    
    <div data-testid="player-name">
        <h3>Welcome, {{ player_name }}!</h3>
    </div>
    
    <!-- Lobby dynamic content section -->
    <!-- The component will include its own HTMX attributes for long polling -->
    <div id="lobby-status-container"
         hx-get="/lobby/status/{{ player_name }}/long-poll"
         hx-trigger="load"
         hx-swap="innerHTML">

    </div>
    
    <!-- Leave Lobby Section -->
    <div data-testid="leave-lobby-section">
        <!-- <form hx-post="/leave-lobby" hx-target="body" hx-swap="innerHTML"> -->
        <form method="post" action="/leave-lobby" >
            <input type="hidden" name="player_name" value="{{ player_name }}">
            <button type="submit" data-testid="leave-lobby-button">
                Leave Lobby
            </button>
        </form>
    </div>
    
</div>
{% endblock %}
