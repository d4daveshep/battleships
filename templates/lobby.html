{% extends "base.html" %}

{% block title %}Multiplayer Lobby{% endblock %}

{% block content %}
<div data-testid="lobby-container">
    <h1>Multiplayer Lobby</h1>
    
    <div data-testid="my-player-name">
        <h3>Welcome, {{ player_name }}!</h3>
    </div>
    
    <div data-testid="own-player-status">
        Your Status: Available
    </div>

    <div data-testid="available-players-list">
        <h3>Available Players:</h3>
        {% if available_players %}
            {% for player in available_players %}
            <div data-testid="player-{{ player.name }}">
                {{ player.name }}
                <button data-testid="select-opponent-{{ player.name }}">Select Opponent</button>
            </div>
            {% endfor %}
        {% else %}
            <div data-testid="no-players-message">
                No other players available
            </div>
            <div data-testid="waiting-message">
                Waiting for other players to join...
            </div>
        {% endif %}
    </div>
    
    
    <!-- Keep existing elements for backward compatibility -->
    <div data-testid="game-mode" style="display: none;">{{ game_mode }}</div>
    <div data-testid="player-name" style="display: none;">{{ player_name }}</div>
</div>
{% endblock %}
